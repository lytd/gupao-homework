# 原型模式

## 定义

用原型的实例指定创建对象的种类，并通过拷贝这些原型创建新的对象

## 优点

- 性能优良：在内存中是二进制流的拷贝，比直接new性能要好很多，特别是对象内有大量的对象。
- 逃避构造方法的约束：这点既是优点也是缺点，构造方式不会执行，也就是少了约束。

## 缺点

构造方式的约束无效

## 注意事项

1. 在JDK中，已经实现了原型模式，只需要实现Cloneable接口，重写clone方法，**但是这是浅拷贝**，深拷贝建议使用序列化

- 浅拷贝：只clone原型类的实例以及类中的基本类型变量的值。
- 深拷贝：原型类中的所有属性全部clone

1. 构造函数不会执行

## 使用场景

- 资源优化场景：类初始化需要消耗很多资源，比如数据、硬件资源。
- 性能和安全要求的场景：通过new产生的对象需要非常频繁的数据准备或者访问权限
- 一个对象多个修改者：一个对象需要提供给多个调用者修改时

