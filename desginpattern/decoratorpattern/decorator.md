# 装饰器模式

# 定义

动态的给对象添加一些额外的责任。就增加功能来说，装饰器模式比生成子类更加灵活。

一般有四个角色：

- Component抽象构件：一般是一个接口或抽象类，是最核心的对象。
- ConcreteComponent具体构件：是最核心对象的实现类，需要被装饰的对象。
- Decorator装饰角色：一般是一个抽象类，里面必定有个private变量指向Component抽象构件。
- 具体装饰角色

# 优点

- 装饰类和被装饰类可以独立发展，不会互相耦合
- 装饰器模式是继承关系的一个替代方案，不管装饰多少层，返回的对象还是Compoent，实现的还是is－a的关系
- 可以动态的扩展一个实现类的功能

# 缺点

多层装饰是复杂的，因此尽可能的减少装饰类的数量

# 使用范围

- 需要扩展一个类的功能，或给类附加功能
- 需要动态的给一个对象增加功能，并且可以动态的撤销
- 需要为一批的兄弟类进行改装或加装功能

# 最佳实践

jdk中IO类

# 装饰器模式和适配器的根本区别
装饰器模式：是is-a的关系，重扩展
适配器模式：是has-a的关系，重兼容